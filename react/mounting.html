<!DOCTYPE html>
<!--
       .__ ___.                  __   
_____  |  |\_ |__   ____________/  |_ 
\__  \ |  | | __ \_/ __ \_  __ \   __\
 / __ \|  |_| \_\ \  ___/|  | \/|  |  
(____  /____/___  /\___  >__|   |__|  
     \/         \/     \/            

  Greetings!! Welcome to my site.
  This site was designed and built by me (All Rights Reserved ;) )
  Some tech used are:
  	- React
	-->
<html class="" lang="en">
<head>
	<meta charset="utf-8">
	<title>A.T | React</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

	<script src="http://fb.me/react-0.12.2.min.js"></script>
	<script src="http://fb.me/JSXTransformer-0.12.2.js"></script>
	<style type="text/css">
		body {
			margin: 25px;
		}
	</style>
</head>

<body>

<h1>React Fundamentals: Accessing Child Properties</h1>
<hr />
<button onClick="render()">Render</button>
<button onClick="unmount()">Unmount</button>
<div id="container"></div>

<script type="text/jsx">
	/*** @jsx React.DOM */
	var APP = React.createClass({
		getInitialState:function() {
			return {increasing:false}
		},
		update: function() {
			var newVal = this.props.val+1
			this.setProps({val: newVal})
		},
		componentWillReceiveProps:function(nextProps){
			this.setState({increasing:nextProps.val>this.props.val})
		},
		componentWillMount: function() {
			console.log('here i go')
			this.setState({m:2});
			if(this.props.val===0){
				this.btnStyle = {'color': 'red'}
			}
		},
		render: function() {
			console.log(this.state.increasing)
			return (
				<button style={this.btnStyle} onClick={this.update}>{this.props.val*this.state.m}</button>
			)
		},
		componentDidMount: function(rootNode) {
			console.log(rootNode)
			this.inc = setInterval(this.update, 500)
			// same
			// console.log(this.getDOMNode())
		},
		componentWillUnmount: function() {
			console.log('goobye cruel world!')
			clearInterval(this.inc)

		}
	});

	window.render = function() {
		React.renderComponent(<APP val={0}/>, document.getElementById('container'))
	}

	window.unmount = function() {
		React.unmountComponentAtNode(document.getElementById('container'))
	}
</script>
</body>
</html>